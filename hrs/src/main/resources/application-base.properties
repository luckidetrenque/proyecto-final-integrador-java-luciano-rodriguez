# ==========================================
# CONFIGURACIÓN COMÚN PARA TODOS LOS PERFILES
# ==========================================

# Server
server.port=${SERVER_PORT:8080}

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Enable ANSI colors in console output
spring.output.ansi.enabled=ALWAYS

# Habilitar inserción por lotes (Batch)
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true

# Actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# Logging
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Asegura que data.sql se ejecute tras la creación de tablas por JPA
spring.jpa.defer-datasource-initialization=true

# Obliga a que siempre se intente inicializar (necesario para bases no embebidas como MySQL)
spring.sql.init.mode=always

# Listas blancas de correos electrónicos
app.whitelist.emails=claumarnavarro@gmail.com,luckidetrenque@gmail.com
